<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manhattan Project: QA Status Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 300px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .tab-btn.active {
            border-bottom: 3px solid #3b82f6;
            color: #1e293b;
            font-weight: 700;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease-in-out;
        }
    </style>
</head>

<body class="text-slate-700">

    <!-- Back to Portal -->
    <div class="bg-blue-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2">
            <a href="index.html" class="text-blue-200 hover:text-white text-sm font-medium transition-colors">
                â† í”„ë¡œì íŠ¸ í¬íƒˆë¡œ ëŒì•„ê°€ê¸°
            </a>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl mr-2">ğŸ—½</span>
                    <div>
                        <h1 class="font-bold text-xl text-slate-800 tracking-tight">Manhattan Project</h1>
                        <p class="text-xs text-slate-500">QA Status Report | 2026.02.14 | Source: ì‹¬ì²œ ë¯¸ë˜ì—ì…‹ (Shenzhen)</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="hidden md:block text-right">
                        <div class="text-xs font-semibold uppercase tracking-wider text-slate-400">Overall Progress
                        </div>
                        <div class="text-xl font-bold text-blue-600">15.92%</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Tabs -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex space-x-8 overflow-x-auto">
                <button onclick="switchTab('dashboard')" id="tab-dashboard"
                    class="tab-btn active pb-3 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 transition-colors">ğŸ“Š
                    ëŒ€ì‹œë³´ë“œ (Dashboard)</button>
                <button onclick="switchTab('modules')" id="tab-modules"
                    class="tab-btn pb-3 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 transition-colors">ğŸ“¦
                    ëª¨ë“ˆë³„ ìƒì„¸ (Modules)</button>
                <button onclick="switchTab('risks')" id="tab-risks"
                    class="tab-btn pb-3 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 transition-colors">âš ï¸
                    ë¦¬ìŠ¤í¬ ê´€ë¦¬ (Risks)</button>
                <button onclick="switchTab('schedule')" id="tab-schedule"
                    class="tab-btn pb-3 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 transition-colors">ğŸ“…
                    ì¼ì • (Schedule)</button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- VIEW 1: DASHBOARD -->
        <div id="view-dashboard" class="space-y-6 animate-fade-in">
            <!-- Context Intro -->
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r shadow-sm">
                <h3 class="font-bold text-blue-800">ğŸ“Œ ìš”ì•½ (Executive Summary)</h3>
                <p class="text-sm text-blue-700 mt-1">
                    ë³¸ ë°ì´í„°ëŠ” <strong>ì‹¬ì²œ ë¯¸ë˜ì—ì…‹</strong>ì—ì„œ ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤.
                    í˜„ì¬ ì´ 9ëª…ì˜ ì¸ì›(TTL 4ëª…, ì‹¬ì²œ BA 5ëª…) ì¤‘ <strong>ì‹¬ì²œ ë¯¸ë˜ì—ì…‹ BA 5ëª…ì´ ì£¼ë„</strong>í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                    'ê³„ì¢Œ ê°œì„¤'ì€ <span class="bg-red-100 text-red-800 px-1 rounded font-bold">Bug Fix</span> ì¤‘ì´ë©°,
                    'ë§¤ë§¤' ë° 'ì²­ì‚°' ê¸°ëŠ¥ì— ì—­ëŸ‰ì„ ì§‘ì¤‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>

            <!-- KPI Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-semibold uppercase">ì „ì²´ ì§„í–‰ë¥  (Progress)</div>
                    <div class="text-3xl font-bold text-blue-600 mt-2">15.92%</div>
                    <div class="w-full bg-slate-100 rounded-full h-1.5 mt-3">
                        <div class="bg-blue-600 h-1.5 rounded-full" style="width: 15.92%"></div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-semibold uppercase">í…ŒìŠ¤íŠ¸ ì¸ë ¥ (Team)</div>
                    <div class="text-3xl font-bold text-slate-800 mt-2">9 <span
                            class="text-sm font-normal text-slate-500">ëª… (Total)</span></div>
                    <p class="text-xs text-slate-500 mt-1">ì‹¬ì²œ BA 5ëª… (Main) + TTL 4ëª…</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-semibold uppercase">Fail / Issues</div>
                    <div class="text-3xl font-bold text-red-500 mt-2">190 <span
                            class="text-sm font-normal text-slate-500">ê±´</span></div>
                    <p class="text-xs text-red-400 mt-1">ì‹¤íŒ¨ìœ¨ ì•½ 30% (ì§„í–‰ ëŒ€ë¹„)</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <div class="text-slate-400 text-xs font-semibold uppercase">ì£¼ìš” ë¦¬ìŠ¤í¬ (High)</div>
                    <div class="text-3xl font-bold text-amber-500 mt-2">16 <span
                            class="text-sm font-normal text-slate-500">Items</span></div>
                    <p class="text-xs text-slate-500 mt-1">ê³„ì¢Œ ê°œì„¤ ì”ì—¬ ë²„ê·¸</p>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-slate-700 mb-4">ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìƒì„¸ (Test Results)</h3>
                    <div class="chart-container">
                        <canvas id="resultChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-slate-400 mt-2">Pass 427ê±´ vs Fail 190ê±´</p>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-slate-700 mb-4">ğŸ“Š ëª¨ë“ˆë³„ ì§„í–‰ ìƒíƒœ (Status by Module)</h3>
                    <div class="chart-container">
                        <canvas id="statusChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-slate-400 mt-2">ê³„ì¢Œ ê°œì„¤ ì™„ë£Œ(ì´ìŠˆ) / ì…ì¶œê¸ˆ ëŒ€ê¸° ì¤‘</p>
                </div>
            </div>
        </div>

        <!-- VIEW 2: MODULE DETAILS -->
        <div id="view-modules" class="hidden space-y-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-slate-800">ëª¨ë“ˆë³„ ìƒì„¸ í˜„í™©</h2>
                <p class="text-slate-500">ê° ê¸°ëŠ¥ ëª¨ë“ˆ(Functional Module)ì— ëŒ€í•œ ìƒì„¸ í…ŒìŠ¤íŠ¸ ë²”ìœ„, ì§„í–‰ ìƒí™© ë° ì´ìŠˆ ë‚´ì—­ì…ë‹ˆë‹¤.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="module-grid">
                <!-- Modules injected via JS -->
            </div>
        </div>

        <!-- VIEW 3: RISKS -->
        <div id="view-risks" class="hidden space-y-6">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <h2 class="text-2xl font-bold text-slate-800">ë¦¬ìŠ¤í¬ ê´€ë¦¬ ëŒ€ì¥ (Risk Register)</h2>
                    <p class="text-slate-500">í”„ë¡œì íŠ¸ ì§„í–‰ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì£¼ìš” ì´ìŠˆ ë° ëŒ€ì‘ ê³„íšì…ë‹ˆë‹¤.</p>
                </div>
                <select id="risk-filter" onchange="renderRisks()"
                    class="bg-white border border-slate-300 text-slate-700 py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="all">ëª¨ë“  ë“±ê¸‰ (All)</option>
                    <option value="High">ğŸ”´ High</option>
                    <option value="Medium">ğŸŸ  Medium</option>
                    <option value="Low">ğŸŸ¡ Low</option>
                </select>
            </div>

            <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                <table class="min-w-full divide-y divide-slate-200">
                    <thead class="bg-slate-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                                ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                                ì˜ì—­ (Module)</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                                ì‹¬ê°ë„</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                                ì´ìŠˆ ë‚´ìš©</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                                ëŒ€ì‘ ê³„íš (Action Plan)</th>
                        </tr>
                    </thead>
                    <tbody id="risk-table-body" class="bg-white divide-y divide-slate-200">
                        <!-- Risks injected via JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- VIEW 4: SCHEDULE -->
        <div id="view-schedule" class="hidden space-y-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-slate-800">í”„ë¡œì íŠ¸ ì¼ì • (Timeline)</h2>
                <p class="text-slate-500">ì‹¬ì²œ ë¯¸ë˜ì—ì…‹ ê³µìœ  ì¼ì •ì— ë”°ë¥¸ ì£¼ìš” ë§ˆì¼ìŠ¤í†¤ íë¦„ì…ë‹ˆë‹¤.</p>
            </div>

            <div class="relative border-l-4 border-slate-200 ml-4 space-y-12 py-4">
                <!-- Item 1: Past -->
                <div class="relative pl-8">
                    <div class="absolute -left-3 top-0 bg-slate-400 w-5 h-5 rounded-full border-4 border-white shadow">
                    </div>
                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                        <span class="inline-block px-2 py-1 bg-slate-200 text-slate-600 text-xs rounded mb-2">1ì›” 30ì¼
                            ì™„ë£Œ</span>
                        <h3 class="font-bold text-lg text-slate-600 line-through">ê³„ì¢Œ ê°œì„¤ (Account Opening)</h3>
                        <p class="text-slate-500 mt-2">1ì°¨ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ. í˜„ì¬ ê²°í•¨(Bug) ìˆ˜ì • ë‹¨ê³„ ì§„í–‰ ì¤‘.</p>
                    </div>
                </div>

                <!-- Item 2: Present -->
                <div class="relative pl-8">
                    <div
                        class="absolute -left-3 top-0 bg-blue-500 w-5 h-5 rounded-full border-4 border-white shadow ring-4 ring-blue-100">
                    </div>
                    <div class="bg-white p-6 rounded-lg border-l-4 border-blue-500 shadow-md">
                        <span
                            class="inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded mb-2 font-bold animate-pulse">ì§„í–‰
                            ì¤‘ (Current)</span>
                        <h3 class="font-bold text-lg text-blue-800">ë§¤ë§¤ ë° ì²­ì‚° (Trading & Clearing)</h3>
                        <p class="text-slate-600 mt-2">
                            <strong>ì‹¬ì²œ BA 5ëª… ì§‘ì¤‘ í…ŒìŠ¤íŠ¸</strong>
                        <ul class="list-disc list-inside space-y-1 text-sm mt-2">
                            <li>HKEX ì£¼ì‹ ë§¤ë§¤ ë° ì£¼ë¬¸ ìœ í˜•(GTC/GTD) ê²€ì¦</li>
                            <li>US ì‹œì¥ ì •ì‚° ë° ì¥ ë§ˆê° ì²˜ë¦¬(EOD)</li>
                            <li>ê°€ìƒìì‚°(VA) í¬íŠ¸í´ë¦¬ì˜¤ UI ê²€ì¦</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Item 3: Future -->
                <div class="relative pl-8">
                    <div class="absolute -left-3 top-0 bg-white w-5 h-5 rounded-full border-4 border-slate-300"></div>
                    <div
                        class="bg-white p-6 rounded-lg border border-slate-200 opacity-75 hover:opacity-100 transition-opacity">
                        <span class="inline-block px-2 py-1 bg-slate-100 text-slate-500 text-xs rounded mb-2">3ì›” 5ì¼ ~ 6ì¼
                            ì˜ˆì •</span>
                        <h3 class="font-bold text-lg text-slate-800">ì…ì¶œê¸ˆ (Deposit & Withdrawal)</h3>
                        <p class="text-slate-600 mt-2">APP ë° AOS í™˜ê²½ì—ì„œ 71ê°œ ì¼€ì´ìŠ¤ ìˆ˜í–‰ ì˜ˆì •.</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center text-slate-400 text-sm">
            <p>Manhattan Project QA Dashboard</p>
            <p class="mt-1">Source: Shenzhen MiraeAsset Report (2026-02-14)</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script src="js/qa_data.js"></script>
    <script>
        // --- Navigation Logic ---
        function switchTab(tabId) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`tab-${tabId}`).classList.add('active');

            ['dashboard', 'modules', 'risks', 'schedule'].forEach(view => {
                const el = document.getElementById(`view-${view}`);
                if (view === tabId) {
                    el.classList.remove('hidden');
                } else {
                    el.classList.add('hidden');
                }
            });
        }

        // --- Render Modules ---
        function renderModules() {
            const container = document.getElementById('module-grid');
            container.innerHTML = qaData.modules.map(mod => {
                let statusColor = 'bg-slate-100 text-slate-600';
                let dotColor = 'bg-slate-400';
                let statusText = 'ëŒ€ê¸° (Waiting)';

                if (mod.status === 'Normal') {
                    statusColor = 'bg-emerald-100 text-emerald-700';
                    dotColor = 'bg-emerald-500';
                    statusText = 'ì •ìƒ (Normal)';
                } else if (mod.status === 'Issue') {
                    statusColor = 'bg-red-100 text-red-700';
                    dotColor = 'bg-red-500';
                    statusText = 'ì´ìŠˆ (Issue)';
                }

                return `
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 card-hover flex flex-col h-full">
                    <div class="flex justify-between items-start mb-4">
                        <div class="${statusColor} px-2 py-1 rounded text-xs font-bold flex items-center">
                            <span class="w-2 h-2 ${dotColor} rounded-full mr-2"></span>
                            ${statusText}
                        </div>
                        <div class="text-xs text-slate-400 font-mono">${mod.progress}%</div>
                    </div>
                    
                    <h3 class="font-bold text-lg text-slate-800 mb-2">${mod.title}</h3>
                    <p class="text-sm text-slate-500 mb-4 flex-grow">${mod.desc}</p>
                    
                    <!-- Progress Bar -->
                    <div class="w-full bg-slate-100 rounded-full h-2 mb-4">
                        <div class="${mod.status === 'Issue' ? 'bg-red-500' : 'bg-blue-500'} h-2 rounded-full" style="width: ${mod.progress}%"></div>
                    </div>

                    <div class="bg-slate-50 rounded p-3 text-sm space-y-1">
                        ${mod.details.map(d => `<div class="flex items-start"><span class="mr-2 text-slate-400">â€¢</span><span class="text-slate-700">${d}</span></div>`).join('')}
                    </div>
                </div>
                `;
            }).join('');
        }

        // --- Render Risks ---
        function renderRisks() {
            const filter = document.getElementById('risk-filter').value;
            const container = document.getElementById('risk-table-body');

            const filteredRisks = qaData.risks.filter(r => filter === 'all' || r.severity === filter);

            container.innerHTML = filteredRisks.map(risk => {
                let badgeClass = 'bg-slate-100 text-slate-800';
                if (risk.severity === 'High') badgeClass = 'bg-red-100 text-red-800';
                if (risk.severity === 'Medium') badgeClass = 'bg-amber-100 text-amber-800';
                if (risk.severity === 'Low') badgeClass = 'bg-yellow-100 text-yellow-800';

                return `
                <tr class="hover:bg-slate-50 transition-colors">
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900">${risk.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-600">${risk.area}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${badgeClass}">
                            ${risk.severity}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-sm text-slate-700 font-bold">${risk.issue}</td>
                    <td class="px-6 py-4 text-sm text-slate-600">${risk.plan}</td>
                </tr>
                `;
            }).join('');
        }

        // --- Chart Initialization ---
        function initCharts() {
            const ctxResult = document.getElementById('resultChart').getContext('2d');
            new Chart(ctxResult, {
                type: 'doughnut',
                data: {
                    labels: ['Pass (ì„±ê³µ)', 'Fail (ì‹¤íŒ¨)', 'Remaining (ì”ì—¬)'],
                    datasets: [{
                        data: [qaData.testSummary.pass, qaData.testSummary.fail, qaData.testSummary.remaining],
                        backgroundColor: ['#10b981', '#ef4444', '#e2e8f0'],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    let label = context.label || '';
                                    if (label) label += ': ';
                                    let value = context.parsed;
                                    let total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    let percentage = Math.round((value / total) * 100) + '%';
                                    return label + value + ' (' + percentage + ')';
                                }
                            }
                        }
                    }
                }
            });

            const ctxStatus = document.getElementById('statusChart').getContext('2d');
            new Chart(ctxStatus, {
                type: 'bar',
                data: {
                    labels: qaData.testSummary.chartLabels,
                    datasets: [{
                        label: 'ì§„í–‰ë¥  (%)',
                        data: qaData.testSummary.chartData,
                        backgroundColor: [
                            '#ef4444', // Red for Account (Issue)
                            '#3b82f6', // Blue for Trade
                            '#3b82f6', // Blue for Clearing
                            '#3b82f6', // Blue for VA
                            '#cbd5e1'  // Grey for Deposit
                        ],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { callback: (val) => val + '%' }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderModules();
            renderRisks();
            initCharts();
        });

    </script>
</body>

</html>